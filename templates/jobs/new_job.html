{% extends 'base.html' %}

{% block content %}
<h2>New job</h2>
<form  action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <!-- Job -->
    <p>
        {{ form.job.label }}<br>
        {{ form.job(class="form-control") }}<br>
        {% for error in form.job.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- Team leader -->
    {% if current_user.id != 1 %}
        <p>
            {{ form.team_leader.label }}
            {{ form.team_leader(class="form-control", value=current_user.id)}}
        </p>
    {% else %}
        <p>
            {{ form.team_leader.label }}<br>
            {{ form.team_leader(class="form-control") }}<br>
            {% for error in form.team_leader.errors %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
            {% endfor %}
        </p>
    {% endif %}
    <!-- Work size -->
    <p>
        {{ form.work_size.label }}<br>
        {{ form.work_size(class="form-control") }}<br>
        {% for error in form.work_size.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- Collaborators -->
    <p>
        {{ form.collaborators.label }}<br>
        {{ form.collaborators(class="form-control") }}<br>
        {% for error in form.collaborators.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- Start date -->
    <p>
        {{ form.start_date.label }}<br>
        {{ form.start_date(class="form-control", type="date") }}<br>
        {% for error in form.start_date.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- End date -->
    <p>
        {{ form.end_date.label }}<br>
        {{ form.end_date(class="form-control", type="date") }}<br>
        {% for error in form.end_date.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- Hazard category -->
    <p>
        {{ form.hazard_category.label }}<br>
        {{ form.hazard_category(class="form-control") }}<br>
        {% for error in form.hazard_category.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>
    <!-- is finished -->
    <p>
        {{ form.is_finished.label }}<br>
        {{ form.is_finished(class="form-control", type="checkbox") }}<br>
        {% for error in form.is_finished.errors %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endfor %}
    </p>


    <p>{{ form.submit(type="submit", class="btn btn-primary", value="submit") }}</p>
</form>
{% endblock %}